## TaiyueChain

TaiyueChain is a truly fast, permissionless, secure and scalable public blockchain platform 
which is supported by hybrid consensus technology called Minerva and a global developer community. 
 
TaiyueChain uses hybrid consensus combining PBFT and fPoW to solve the biggest problem confronting public blockchain: 
the contradiction between decentralization and efficiency. 

TaiyueChain uses PBFT as fast-chain to process transactions, and leave the oversight and election of PBFT to the hands of PoW nodes. 
Besides, TaiyueChain integrates fruitchain technology into the traditional PoW protocol to become fPoW, 
to make the chain even more decentralized and fair. 
 
TaiyueChain also creates a hybrid consensus incentive model and a stable gas fee mechanism to lower the cost for the developers 
and operators of DApps, and provide better infrastructure for decentralized eco-system. 

<a href="https://github.com/taiyuechain/taiyuechain/blob/master/COPYING"><img src="https://img.shields.io/badge/license-GPL%20%20taiyuechain-lightgrey.svg"></a>

## Building the source


Building taiyue requires both a Go (version 1.9 or later) and a C compiler.
You can install them using your favourite package manager.
Once the dependencies are installed, run

    make taiyue

or, to build the full suite of utilities:

    make all

The execuable command taiyue will be found in the `cmd` directory.

## Running taiyue

Going through all the possible command line flags is out of scope here (please consult our
[CLI Wiki page](https://github.com/taiyuechain/taiyuechain/wiki/Command-Line-Options)), 
also you can quickly run your own taiyue instance with a few common parameter combos.

### Running on the Taiyuechain main network

```
$ taiyue console
```

This command will:

 * Start taiyue with network ID `19330` in full node mode(default, can be changed with the `--syncmode` flag after version 1.1).
 * Start up taiyue's built-in interactive console,
   (via the trailing `console` subcommand) through which you can invoke all official [`web3` methods](https://github.com/taiyuechain/taiyuechain/wiki/RPC-API)
   as well as Geth's own [management APIs](https://github.com/taiyuechain/taiyuechain/wiki/Management-API).
   This too is optional and if you leave it out you can always attach to an already running taiyue instance
   with `taiyue attach`.


### Running on the Taiyuechain test network

To test your contracts, you can join the test network with your node.

```
$ taiyue --testnet console
```

The `console` subcommand has the exact same meaning as above and they are equally useful on the
testnet too. Please see above for their explanations if you've skipped here.

Specifying the `--testnet` flag, however, will reconfigure your Geth instance a bit:

 * Test network uses different network ID `18928`
 * Instead of connecting the main TaiyueChain network, the client will connect to the test network, which uses testnet P2P bootnodes,  and genesis states.


### Configuration

As an alternative to passing the numerous flags to the `taiyue` binary, you can also pass a configuration file via:

```
$ taiyue --config /path/to/your_config.toml
```

To get an idea how the file should look like you can use the `dumpconfig` subcommand to export your existing configuration:

```
$ taiyue --your-favourite-flags dumpconfig
```

### Operating a private network

Maintaining your own private network is more involved as a lot of configurations taken for granted in
the official networks need to be manually set up.

#### Defining the private genesis state

First, you'll need to create the genesis state of your networks, which all nodes need to be aware of
and agree upon. We provide a single node JSON file at cmd/taiyue/genesis_single.json:

```json
{
  "config": {
    "chainId": 1
  },
  
  "CertList" : [
    "0x3082028e3082023aa0030201020201ff300a06082a811ccf55018375303031133011060355040a0c0acea32041636d6520436f3119301706035504031310746573742e6578616d706c652e636f6d301e170d3230303531323131313931365a170d3233303731333231303535365a303031133011060355040a0c0acea32041636d6520436f3119301706035504031310746573742e6578616d706c652e636f6d3059301306072a8648ce3d020106082a811ccf5501822d03420004bdf9699d20b4ebabe76e76260480e5492c87aaeda51b138bd22c6d66b69549313dc3eb8c96dc9a1cbbf3b347322c51c05afdd609622277444e0f07e6bd35d8bda38201433082013f300e0603551d0f0101ff04040302020430260603551d25041f301d06082b0601050507030206082b0601050507030106022a030603810b01300f0603551d130101ff040530030101ff300d0603551d0e0406040401020304305f06082b0601050507010104533051302306082b060105050730018617687474703a2f2f6f6373702e6578616d706c652e636f6d302a06082b06010505073002861e687474703a2f2f6372742e6578616d706c652e636f6d2f6361312e637274301a0603551d1104133011820f666f6f2e6578616d706c652e636f6d300f0603551d2004083006300406022a0330570603551d1f0450304e3025a023a021861f687474703a2f2f63726c312e6578616d706c652e636f6d2f6361312e63726c3025a023a021861f687474703a2f2f63726c322e6578616d706c652e636f6d2f6361312e63726c300a06082a811ccf55018375034200832e5207eeaee5231509b901cf008c9b250533906603909f850019bb6beb584e780ab45856aa918fbccbf14d24b5414d65b86e2ef107398c5b948e4516e308c968",
    "0x3082028e3082023aa0030201020201ff300a06082a811ccf55018375303031133011060355040a0c0acea32041636d6520436f3119301706035504031310746573742e6578616d706c652e636f6d301e170d3230303531323131313931365a170d3233303731333231303535365a303031133011060355040a0c0acea32041636d6520436f3119301706035504031310746573742e6578616d706c652e636f6d3059301306072a8648ce3d020106082a811ccf5501822d034200045e1711b6cd8550a5e5466f7f0868b5507929cb69c2f0fca84f8f94816eb40a808ea8a77c3d83c9d16341acb037fbea2f7d9d4af46326defa39b408f40f28fb98a38201433082013f300e0603551d0f0101ff04040302020430260603551d25041f301d06082b0601050507030206082b0601050507030106022a030603810b01300f0603551d130101ff040530030101ff300d0603551d0e0406040401020304305f06082b0601050507010104533051302306082b060105050730018617687474703a2f2f6f6373702e6578616d706c652e636f6d302a06082b06010505073002861e687474703a2f2f6372742e6578616d706c652e636f6d2f6361312e637274301a0603551d1104133011820f666f6f2e6578616d706c652e636f6d300f0603551d2004083006300406022a0330570603551d1f0450304e3025a023a021861f687474703a2f2f63726c312e6578616d706c652e636f6d2f6361312e63726c3025a023a021861f687474703a2f2f63726c322e6578616d706c652e636f6d2f6361312e63726c300a06082a811ccf5501837503420036012bc38f3b3b01d93d7514d3ebf0aa24f9e4ce0aa0f62f26178c2196a4d282a3e07c4ef18f072427da8b7d244441d4aa9f5664dfd4186d7118d2dcd2bebef01b",
    "0x3082028e3082023aa0030201020201ff300a06082a811ccf55018375303031133011060355040a0c0acea32041636d6520436f3119301706035504031310746573742e6578616d706c652e636f6d301e170d3230303531323131313931365a170d3233303731333231303535365a303031133011060355040a0c0acea32041636d6520436f3119301706035504031310746573742e6578616d706c652e636f6d3059301306072a8648ce3d020106082a811ccf5501822d034200041b931d350257e881f27bce2563d98c99b13ca4f525a0662f5e7d53f085edff0dca8ceaae550c9f4ceecf217f72806a48a48fb024916392ae41d7c45168e89b94a38201433082013f300e0603551d0f0101ff04040302020430260603551d25041f301d06082b0601050507030206082b0601050507030106022a030603810b01300f0603551d130101ff040530030101ff300d0603551d0e0406040401020304305f06082b0601050507010104533051302306082b060105050730018617687474703a2f2f6f6373702e6578616d706c652e636f6d302a06082b06010505073002861e687474703a2f2f6372742e6578616d706c652e636f6d2f6361312e637274301a0603551d1104133011820f666f6f2e6578616d706c652e636f6d300f0603551d2004083006300406022a0330570603551d1f0450304e3025a023a021861f687474703a2f2f63726c312e6578616d706c652e636f6d2f6361312e63726c3025a023a021861f687474703a2f2f63726c322e6578616d706c652e636f6d2f6361312e63726c300a06082a811ccf550183750342001763ae6aa88f61998e1609c3a20bcc74302895bc811b49572cff164e837e968438d9fa8799d91b9ae1b60280c14d1b70c71ac34e92c02f65a876fbfe6eee9a3dfc",
    "0x3082028e3082023aa0030201020201ff300a06082a811ccf55018375303031133011060355040a0c0acea32041636d6520436f3119301706035504031310746573742e6578616d706c652e636f6d301e170d3230303531323131313931365a170d3233303731333231303535365a303031133011060355040a0c0acea32041636d6520436f3119301706035504031310746573742e6578616d706c652e636f6d3059301306072a8648ce3d020106082a811ccf5501822d034200049923777d866fd80485be57a126d638cc7dda78a5d6958aff784ca7ed9d9c7be494125bf75fd0328490ae51020274427b9fbb07f59e4c9b5104ac6924721a4438a38201433082013f300e0603551d0f0101ff04040302020430260603551d25041f301d06082b0601050507030206082b0601050507030106022a030603810b01300f0603551d130101ff040530030101ff300d0603551d0e0406040401020304305f06082b0601050507010104533051302306082b060105050730018617687474703a2f2f6f6373702e6578616d706c652e636f6d302a06082b06010505073002861e687474703a2f2f6372742e6578616d706c652e636f6d2f6361312e637274301a0603551d1104133011820f666f6f2e6578616d706c652e636f6d300f0603551d2004083006300406022a0330570603551d1f0450304e3025a023a021861f687474703a2f2f63726c312e6578616d706c652e636f6d2f6361312e63726c3025a023a021861f687474703a2f2f63726c322e6578616d706c652e636f6d2f6361312e63726c300a06082a811ccf5501837503420049692e6b0ccbf89e43f2686353cb7e1d6f2c8cc5397a314919206016975fae5734db75cce3e320060b9859fead458c089ce907267558dfcd9622e78542696ef42e"
  ],
		
  "committee":[
    {
      "address": "0x76ea2f3a002431fede1141b660dbb75c26ba6d97",
      "publickey": "0x04bdf9699d20b4ebabe76e76260480e5492c87aaeda51b138bd22c6d66b69549313dc3eb8c96dc9a1cbbf3b347322c51c05afdd609622277444e0f07e6bd35d8bd"
    },
    {
      "address": "0x831151b7eb8e650dc442cd623fbc6ae20279df85",
      "publickey": "0x045e1711b6cd8550a5e5466f7f0868b5507929cb69c2f0fca84f8f94816eb40a808ea8a77c3d83c9d16341acb037fbea2f7d9d4af46326defa39b408f40f28fb98"
    },{
      "address": "0x1074f7deccf8c66efcd0106e034d3356b7db3f2c",
      "publickey": "0x041b931d350257e881f27bce2563d98c99b13ca4f525a0662f5e7d53f085edff0dca8ceaae550c9f4ceecf217f72806a48a48fb024916392ae41d7c45168e89b94"
    },{
      "address": "0xd985e9871d1be109af5a7f6407b1d6b686901fff",
      "publickey": "0x049923777d866fd80485be57a126d638cc7dda78a5d6958aff784ca7ed9d9c7be494125bf75fd0328490ae51020274427b9fbb07f59e4c9b5104ac6924721a4438"
    }
  ]
,
  "coinbase"   		: "0x0000000000000000000000000000000000000000",
  "useGas" 	   		: 1,
  "baseReward"  	: 1,
  "kindOfCrypto" 	: 2,
  "gasLimit"   		: "0x5400000",
  "parentHash" 		: "0x0000000000000000000000000000000000000000000000000000000000000000",
  "timestamp"  		: "0x00"
}
```

With the genesis state defined in the above JSON file, you'll need to initialize **every** taiyue node
with it prior to starting it up to ensure all blockchain parameters are correctly set:

```
$ taiyue init path/to/genesis.json
```

more infomation:
[setup.md](https://github.com/taiyuechain/taiyuechain/blob/master/setup.md "setup.md")
